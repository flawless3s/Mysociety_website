
 

    <div class="pagetitle">
      <h1>List of Secretary</h1>
      <nav>
        <ol class="breadcrumb">
          <li class="breadcrumb-item"><a href="/dashboard">Home</a></li>
          <!--<<li class="breadcrumb-item">Users</li>-->
          <li class="breadcrumb-item active">List of Secretary</li>
        </ol>
      </nav>
    </div><!-- End Page Title -->

    <section class="section profile">

      <div class="col-xl-8" >
        <div class="card" >
          <div class="card-body pt-3">
            <ul class="nav nav-tabs nav-tabs-bordered">

              <li class="nav-item">
                <button class="nav-link active" data-bs-toggle="tab" data-bs-target="#profile-overview">Approved</button>
              </li>

              <li class="nav-item">
                <button class="nav-link" data-bs-toggle="tab" data-bs-target="#profile-edit">Pending</button>
              </li>
            </ul>

            <div class="tab-content pt-2">

              <div class="tab-pane fade show active profile-overview" id="profile-overview">
                <h5 class="card-title">List of Secretaries</h5>
      
                <div class="card-body" text-align="left">
                  <!--<h5 class="card-title">Bordered Table</h5>-->
                  <!--<p>Add <code>.table-bordered</code> for borders on all sides of the table and cells.</p>
                  <!-- Bordered Table -->
                  <table class="table table-bordered" >
                    <thead>
                      <tr>
                        <th scope="col">Society Id</th>
                        <th scope="col">Secretary Name</th>
                        <th scope="col">Secretary Ph No.</th>
                        <th scope="col">Society Name</th>
                        <th scope="col">Society Address</th>
                        <th scope="col">Status</th>
                        <th scope="col">Action</th>
                      </tr>
                    </thead>
                    <tbody>
                      {% for secretary in secretaries %}
                      <tr data-id="{{secretary[2]}}">
                        <td>{{ secretary[0] }}</td>
                        <td>{{ secretary[3] }}</td>
                        <td>{{ secretary[5] }}</td>
                        <td>{{ secretary[13] }}</td>
                        <td>{{ secretary[14] }}</td>
                        {% if secretary[10] %}
                            <td><span class="badge bg-success">Active</span></td>
                        {% else %}
                            <td><span class="badge bg-warning">Not Active</span></td>
                        {% endif %}
                        <td>
                          <button type="button" class="btn btn-danger rounded-pill secdelete-btn" data-id="{{secretary[2]}}">
                            Delete
                          </button>
                        </td>
                      </tr>
                      {% endfor %}
                    </tbody>
                  </table>
      
                </div>
              </div>

              <div class="tab-pane fade profile-edit pt-3" id="profile-edit">
                <h5 class="card-title">Approve New Secretaries</h5>
                <table class="table table-bordered" >
                  <thead>
                    <tr>
                      <th scope="col">Society Id</th>
                      <th scope="col">Secretary Name</th>
                      <th scope="col">Secretary Ph No.</th>
                      <th scope="col">Society Name</th>
                      <th scope="col">Society Address</th>
                      <th scope="col">Action</th>
                      <th data-type="date" data-format="YYYY/DD/MM">Action Date</th>
                    </tr>
                  </thead>
                  <tbody>
                    {% for secretary in approving_needed %}
                    <tr row-id="{{secretary[2]}}">
                      <td>{{ secretary[0] }}</td>
                      <td>{{ secretary[3] }}</td>
                      <td>{{ secretary[5] }}</td>
                      <td>{{ secretary[13] }}</td>
                      <td>{{ secretary[14] }}</td>
                      {% if secretary[10]==0 %}
                        <td>Rejected</td>
                      {%elif secretary[7]%}
                        <td>Approved</td>
                      {%else%}
                        <td scope="row">
                          <div class="action-buttons">
                            <button class="approve-button" onclick="handleApproveSecretary(this)">Approve</button>
                            <button class="reject-button" onclick="handleRejectSecretary(this)">Reject</button>
                          </div>
                        </td>
                      {% endif %}
                      <td>{{secretary[9] or 'N/A'}}</td>
                    </tr>
                    {% endfor %}
                  </tbody>
                </table>
                

          </div>

        </div>

      </div>
      
    </section>

  
  