

    <div class="pagetitle">
      <h1>List of Societies</h1>
      <nav>
        <ol class="breadcrumb">
          <li class="breadcrumb-item"><a href="/dashboard">Home</a></li>
          <!--<<li class="breadcrumb-item">Users</li>-->
          <li class="breadcrumb-item active">List of Societies</li>
        </ol>
      </nav>
    </div><!-- End Page Title -->

    <section class="section profile">
      <div class="col-xl-8">
        <div class="card">
          <div class="card-body pt-3">

            <ul class="nav nav-tabs nav-tabs-bordered">

              <li class="nav-item">
                <button class="nav-link active" data-bs-toggle="tab" data-bs-target="#profile-overview">Societies</button>
              </li>

              <li class="nav-item">
                <button class="nav-link" data-bs-toggle="tab" data-bs-target="#profile-edit">Add Society</button>
              </li>
            </ul>

            <div class="tab-content pt-2">

              <div class="tab-pane fade show active profile-overview" id="profile-overview">
                <!--<h5 class="card-title">About</h5>
                <p class="small fst-italic">Sunt est soluta temporibus accusantium neque nam maiores cumque temporibus. Tempora libero non est unde veniam est qui dolor. Ut sunt iure rerum quae quisquam autem eveniet perspiciatis odit. Fuga sequi sed ea saepe at unde.</p>
                  -->
                <h5 class="card-title">List of Societies</h5>

                <div class="card-body" text-align="left">
                  <!--<h5 class="card-title">Bordered Table</h5>-->
                  <!--<p>Add <code>.table-bordered</code> for borders on all sides of the table and cells.</p>
                  <!-- Bordered Table -->
                  <table class="table table-bordered" >
                    <thead>
                      <tr>
                        <th scope="col">Society Id</th>
                        <th scope="col">Society Name</th>
                        <th scope="col">Society Address</th>
                        <th scope="col">Area</th>
                        <th scope="col">City</th>
                        <th scope="col">State</th>
                        <th scope="col">Country</th>
                        <th scope="col">Builder Name</th>
                        <th scope="col">Builder No.</th>
                        <th scope="col">Company Name</th>
                        <th scope="col">Total Flats</th>
                        <th scope="col">Total Wings</th>
                        <th scope="col">Total Floors</th>
                        <th scope="col">Empty Flats</th>
                        <th scope="col">Flats on Each Floor</th>
                        <th scope="col">Action</th>
                      </tr>
                    </thead>
                    <tbody>
                      {% for society in societies %}
                      <tr data-id="{{society[0]}}">
                        <td>{{ society[0] }}</td>
                        <td>{{ society[1] }}</td>
                        <td>{{ society[2] }}</td>
                        <td>{{ society[3] }}</td>
                        <td>{{ society[4] }}</td>
                        <td>{{ society[5] }}</td>
                        <td>{{ society[6] }}</td>
                        <td>{{ society[7] }}</td>
                        <td>{{ society[8] }}</td>
                        <td>{{ society[9] }}</td>
                        <td>{{ society[10] }}</td>
                        <td>{{ society[11] }}</td>
                        <td>{{ society[12] }}</td>
                        <td>{{ society[13] }}</td>
                        <td>{{ society[14] }}</td>
                        <td scope="row">
                          <div class="action-buttons">
                            <button type="button" class="btn btn-danger rounded-pill sodelete-btn" data-id="{{society[0]}}">Delete</button>
                            <a href="{{ url_for('admin.edit_row', row_id=society[0]) }}" target="_parent"><button type="button" class="btn btn-info rounded-pill">Edit</button></a>
                          </div>
                        </td>
                      </tr>
                      {% endfor %}
                    </tbody>
                  </table>

                </div>
              </div>

              <div class="tab-pane fade profile-edit pt-3" id="profile-edit">

                <h5 class="card-title">Add Society</h5>
                <div class="modal fade" id="societyIdModal" tabindex="-1" aria-labelledby="societyIdModalLabel" aria-hidden="true">
                  <div class="modal-dialog">
                    <div class="modal-content">
                      <div class="modal-header">
                        <h5 class="modal-title" id="societyIdModalLabel">Enter Society ID</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                      </div>
                      <div class="modal-body">
                        <form id="societyIdForm" method="post">
                          <div class="mb-3">
                            <label for="societyIdInput" class="form-label">Society ID:</label>
                            <input type="number" class="form-control" id="societyIdInput" name="society_id" required>
                          </div>
                          <button type="submit" class="btn btn-primary">Submit</button>
                        </form>
                      </div>
                    </div>
                  </div>
                </div>
                <form action="{{ url_for('admin.society_changes')}}" method="post" id="mainForm">                
                  <div class="row mb-3">
                    <label for="s_name" class="col-md-4 col-lg-3 col-form-label">Society Name:</label>
                    <div class="col-md-8 col-lg-9">
                      <input type="text" id="s_name" name="s_name" class="form-control" required>
                    </div>
                  </div>
                
                  <div class="row mb-3">
                    <label for="s_address" class="col-md-4 col-lg-3 col-form-label">Society Address:</label>
                    <div class="col-md-8 col-lg-9">
                      <textarea id="s_address" name="s_address" class="form-control" rows="4" required></textarea>
                    </div>
                  </div>
                
                  <div class="row mb-3">
                    <label for="area" class="col-md-4 col-lg-3 col-form-label">Area:</label>
                    <div class="col-md-8 col-lg-9">
                      <select id="area" name="area" class="form-control"  required>
                        <option value="" selected>Select Area</option>
                        <option value="Urban">Urban</option>
                        <option value="Rural">Rural</option>
                      </select>
                    </div>
                  </div>
                
                  <div class="row mb-3">
                    <label for="city" class="col-md-4 col-lg-3 col-form-label">City:</label>
                    <div class="col-md-8 col-lg-9">
                      <input type="text" id="city" name="city" class="form-control" required>
                    </div>
                  </div>
                
                  <div class="row mb-3">
                    <label for="state" class="col-md-4 col-lg-3 col-form-label">State:</label>
                    <div class="col-md-8 col-lg-9">
                      <input type="text" id="state" name="state" class="form-control" required>
                    </div>
                  </div>
                
                  <div class="row mb-3">
                    <label for="country" class="col-md-4 col-lg-3 col-form-label">Country:</label>
                    <div class="col-md-8 col-lg-9">
                      <select id="country" name="country" class="form-control" required>
                        <option value="India">India</option>
                      </select>
                    </div>
                  </div>
                
                  <!-- <div class="row mb-3">
                    <label for="sect_name" class="col-md-4 col-lg-3 col-form-label">Secretary Name:</label>
                    <div class="col-md-8 col-lg-9">
                      <input type="text" id="sect_name" name="sect_name" class="form-control" required>
                    </div>
                  </div>
                
                  <div class="row mb-3">
                    <label for="sect_number" class="col-md-4 col-lg-3 col-form-label">Secretary Number:</label>
                    <div class="col-md-8 col-lg-9">
                      <input type="number" id="sect_number" name="sect_number" class="form-control" required>
                    </div>
                  </div> -->
                
                  <div class="row mb-3">
                    <label for="build_name" class="col-md-4 col-lg-3 col-form-label">Builder Name:</label>
                    <div class="col-md-8 col-lg-9">
                      <input type="text" id="build_name" name="build_name" class="form-control" required>
                    </div>
                  </div>
                
                  <div class="row mb-3">
                    <label for="build_number" class="col-md-4 col-lg-3 col-form-label">Builder Number:</label>
                    <div class="col-md-8 col-lg-9">
                      <input type="text" id="build_number" name="build_number" class="form-control" required>
                    </div>
                  </div>
                
                  <div class="row mb-3">
                    <label for="c_name" class="col-md-4 col-lg-3 col-form-label">Company Name:</label>
                    <div class="col-md-8 col-lg-9">
                      <input type="text" id="c_name" name="c_name" class="form-control" required>
                    </div>
                  </div>
                
                  <div class="row mb-3">
                    <label for="total_flats" class="col-md-4 col-lg-3 col-form-label">Total Flats:</label>
                    <div class="col-md-8 col-lg-9">
                      <input type="number" id="total_flats" name="total_flats" class="form-control" required>
                    </div>
                  </div>
                
                  <div class="row mb-3">
                    <label for="total_wings" class="col-md-4 col-lg-3 col-form-label">Total Wings:</label>
                    <div class="col-md-8 col-lg-9">
                      <input type="number" id="total_wings" name="total_wings" class="form-control" required>
                    </div>
                  </div>
                
                  <div class="row mb-3">
                    <label for="total_floor" class="col-md-4 col-lg-3 col-form-label">Total Floor:</label>
                    <div class="col-md-8 col-lg-9">
                      <input type="number" id="total_floor" name="total_floor" class="form-control" required>
                    </div>
                  </div>
                
                  <div class="row mb-3">
                    <label for="empty_flats" class="col-md-4 col-lg-3 col-form-label">Empty Flats:</label>
                    <div class="col-md-8 col-lg-9">
                      <input type="number" id="empty_flats" name="empty_flats" class="form-control" required>
                    </div>
                  </div>
                
                  <div class="row mb-3">
                    <label for="flat_on_each_floor" class="col-md-4 col-lg-3 col-form-label">Flat on each Floor:</label>
                    <div class="col-md-8 col-lg-9">
                      <input type="number" id="flat_on_each_floor" name="flat_on_each_floor" class="form-control" required>
                    </div>
                  </div>
                
                  <div class="text-center">
                    <!-- <button type="button" class="btn btn-primary" id="openModalButton" data-bs-toggle="modal" data-bs-target="#societyIdModal">
                        Save Changes
                    </button> -->
                    <button type="submit" name="action" value="add" class="btn btn-primary" id="addButton">Add</button>
                </div>
                </form>
                <!-- End Profile Edit Form--> 
                <script>
                // document.getElementById('societyIdForm').addEventListener('submit', function(event) {
                //   event.preventDefault();
                //   var societyId = document.getElementById('societyIdInput').value;
                //   console.log(societyId)
                  
                //   // Set the form action dynamically with Society ID
                //   var mainForm = document.getElementById('mainForm');
                //   mainForm.action = "{{ url_for('admin.society_changes')}}" + '?sid=' + encodeURIComponent(societyId);
                  
                //   // Submit the main form
                //   mainForm.submit();
                // });
                document.addEventListener('DOMContentLoaded', function() {
                    document.getElementById('addButton').addEventListener('click', function(event) {
                        var confirmAction = confirm("Are you sure you want to add this item?");
                        if (!confirmAction) {
                            event.preventDefault(); // Prevent the form from submitting if the user cancels
                        }
                    });
                });
                     
              </script>
              
             </div>
            </div>

          </div>

        </div>

      </div>

      </section>

    


  